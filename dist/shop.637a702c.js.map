{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,sBAKA,MAAMC,EAAiBC,SAASC,eAAe,YACzCC,EAAiBF,SAASC,eAAe,YACzCE,EAAcH,SAASC,eAAe,SACtCG,EAAYJ,SAASC,eAAe,eAE1C,IAAII,EAAW,GAcf,SAASC,EAAcC,GACnB,MAAMC,EAAUR,SAASS,cAAc,KAMvCD,EAAQE,UAAY,UAEpBF,EAAQG,aAAa,OAAQ,qBAAuBJ,EAAKK,IAEzD,MAAMC,EAAaN,EAAKO,OAASP,EAAKO,OAAO,GAAK,kBC1BtD,IAAwBC,ED4BpBP,EAAQQ,UAAY,2DAGRH,8EAEqBN,EAAKU,6CACVV,EAAKW,+CClCbH,EDmCqBR,EAAKQ,MClCvC,IAAII,KAAKC,aAAa,QAAS,CAClCC,MAAO,WACPC,SAAU,MACVC,sBAAuB,IACxBC,OAAOT,uCDkCVhB,EAAe0B,YAAYjB,GAG/B,SAASkB,IAEL,MAAMC,EAAczB,EAAe0B,MAC7BC,EAAW1B,EAAYyB,MACvBE,EAAU1B,EAAUwB,MAG1B,IAAIG,EAAmB,GAGH,KAAhBJ,GAEAI,EAAmB1B,EAAS2B,QAAQxB,GAAYA,EAAQU,WAAaS,IACrEM,QAAQC,IAAIH,IAIZA,EAAmB1B,EAKN,SAAbwB,IACAE,EAAmBA,EAAiBI,MAAK,CAACC,EAAGC,IAAMD,EAAErB,MAAQsB,EAAEtB,SAGlD,QAAbc,IACAE,EAAmBA,EAAiBI,MAAK,CAACC,EAAGC,IAAMA,EAAEtB,MAAQqB,EAAErB,SAGnD,OAAZe,IACAC,EAAmBA,EAAiBI,MAAK,CAACC,EAAGC,IAAMA,EAAEpB,KAAOmB,EAAEnB,QAElD,OAAZa,IACAC,EAAmBA,EAAiBI,MAAK,CAACC,EAAGC,IAAMD,EAAEnB,KAAOoB,EAAEpB,QAIlElB,EAAeiB,UAAY,GAC3Be,EAAiBO,SAAQ9B,IACrBF,EAAcE,MAOtBN,EAAeqC,iBAAiB,UAAUC,IACtCd,OAGJvB,EAAYoC,iBAAiB,UAAUC,IACnCd,OAGJtB,EAAUmC,iBAAiB,UAAUC,IACjCd,OAGJ1B,SAASC,eAAe,cAAcwC,QAAU,WAC5CC,MAAM,gCAnGVC,iBACI,MAAMC,QAAyBC,EAAAC,YAAYjD,EAAAkD,IAC3ChD,EAAeiB,UAAY,GAC3B4B,EAAiBN,SAAQ9B,IACrBF,EAAcE,MAGlBH,EAAWuC,EA+FfI","sources":["src/scripts/shop.js","src/utils/index.js"],"sourcesContent":["import { db } from \"./apps\";\nimport { getProducts } from \"./functions/products\";\nimport { currencyFormat } from \"../utils\";\n\n\nconst productSection = document.getElementById(\"products\");\nconst categoryFilter = document.getElementById(\"material\");\nconst orderFilter = document.getElementById(\"order\");\nconst orderName = document.getElementById(\"orderbyName\");\n\nlet products = [];\n\nasync function loadProducts() {\n    const firebaseProducts = await getProducts(db);\n    productSection.innerHTML = \"\";\n    firebaseProducts.forEach(product => {\n        renderProduct(product);\n    });\n\n    products = firebaseProducts;\n\n\n}\n\nfunction renderProduct(item) {\n    const product = document.createElement(\"a\");\n    \n   \n\n\n\n    product.className = \"product\";\n\n    product.setAttribute(\"href\", './product.html?id=' + item.id)\n\n    const coverImage = item.images ? item.images[0] : \"./image/noimage\";\n\n    product.innerHTML = `\n    \n    <div class=\"product__info\"> \n    <img src=\"${coverImage}\" alt=\"\" class=\"product_image\">\n    \n        <h3 class=\"product__name\"> ${item.name} </h3>\n        <h3 class=\"material\"> ${item.material} </h3>\n        <h3 class=\"price\">  ${currencyFormat(item.price)} </h3>\n        </div>\n    </div>`;\n\n    productSection.appendChild(product);\n}\n\nfunction filterBy() {\n\n    const newCategory = categoryFilter.value;\n    const newOrder = orderFilter.value;\n    const newName = orderName.value;\n\n\n    let filteredProducts = [];\n    \n\n    if (newCategory !== \"\") {\n\n        filteredProducts = products.filter((product) => product.material === newCategory);\n        console.log(filteredProducts);\n\n\n    } else {\n        filteredProducts = products;\n        \n\n    }\n\n    if (newOrder === \"desc\") {\n        filteredProducts = filteredProducts.sort((a, b) => a.price - b.price);\n    }\n\n    if (newOrder === \"asc\") {\n        filteredProducts = filteredProducts.sort((a, b) => b.price - a.price);\n    }\n\n    if (newName === \"az\") {\n        filteredProducts = filteredProducts.sort((a, b) => b.name - a.name);\n    }\n    if (newName === \"za\") {\n        filteredProducts = filteredProducts.sort((a, b) => a.name - b.name);\n    }\n\n\n    productSection.innerHTML = \"\";\n    filteredProducts.forEach(product => {\n        renderProduct(product);\n    });\n\n\n\n}\n\ncategoryFilter.addEventListener(\"change\", e => {\n    filterBy();\n});\n\norderFilter.addEventListener(\"change\", e => {\n    filterBy();\n})\n\norderName.addEventListener(\"change\", e => {\n    filterBy();\n})\n\ndocument.getElementById('firtslogin').onclick = function(){\n    alert('¡Inicia sesión primero! :D ');\n}\n\nloadProducts();","async function addProductToCart(cart) {\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n};\n\nfunction getMyLocalCart() {\n    const myCart = localStorage.getItem(\"cart\");\n    return myCart ? JSON.parse(myCart) : [];\n}\n\nfunction currencyFormat(price) {\n    return new Intl.NumberFormat(\"es-CO\", {\n        style: 'currency',\n        currency: 'COP',\n        minimumFractionDigits: 0\n    }).format(price);\n}\n\nexport {\n    addProductToCart,\n    getMyLocalCart,\n    currencyFormat\n}"],"names":["$lrymF","parcelRequire","$a9cddcee321f50ec$var$productSection","document","getElementById","$a9cddcee321f50ec$var$categoryFilter","$a9cddcee321f50ec$var$orderFilter","$a9cddcee321f50ec$var$orderName","$a9cddcee321f50ec$var$products","$a9cddcee321f50ec$var$renderProduct","item","product","createElement","className","setAttribute","id","coverImage","images","price","innerHTML","name","material","Intl","NumberFormat","style","currency","minimumFractionDigits","format","appendChild","$a9cddcee321f50ec$var$filterBy","newCategory","value","newOrder","newName","filteredProducts","filter","console","log","sort","a","b","forEach","addEventListener","e","onclick","alert","async","firebaseProducts","$5q2VS","getProducts","db","$a9cddcee321f50ec$var$loadProducts"],"version":3,"file":"shop.637a702c.js.map"}