{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,sBAKA,MAAMC,EAAiBC,SAASC,eAAe,YACzCC,EAAiBF,SAASC,eAAe,YACzCE,EAAcH,SAASC,eAAe,SACtCG,EAAYJ,SAASC,eAAe,eAE1C,IAAII,EAAW,GAcf,SAASC,EAAcC,GACnB,MAAMC,EAAUR,SAASS,cAAc,KAMvCD,EAAQE,UAAY,UAEpBF,EAAQG,aAAa,OAAQ,qBAAuBJ,EAAKK,IAEzD,MAAMC,EAAaN,EAAKO,OAASP,EAAKO,OAAO,GAAK,kBC1BtD,IAAwBC,ED4BpBP,EAAQQ,UAAY,2DAcfH,8EAGYN,EAAAU,6CACDV,EAAAW,+CC9CIH,EDiDMR,EAAAQ,MChDnB,IAAII,KAAKC,aAAa,QAAS,CAClCC,MAAO,WACPC,SAAU,MACVC,sBAAuB,IACxBC,OAAOT,yCDiD4EU,YAAAjB,YAIrFkB,IAMD,MAAIC,EAAazB,EACM0B,MAAmDC,EAAA1B,EAAAyB,MAGtEE,EAAQ1B,EACWwB,MAAiD,IAAEG,EAAA,GAGtD,KAAhBJ,GACoEI,EAAA1B,EAAA2B,QAAAxB,GAAAA,EAAAU,WAAAS,IAGAM,QAAAC,IAAAH,IAIxEA,EAAA1B,EACiB,SAAjBwB,IAAyBE,EAAWA,EAAAI,MAAA,CAAAC,EAAAC,IAAAD,EAAArB,MAAAsB,EAAAtB,SAEjC,QAAAc,IAAAE,EAAAA,EAAAI,MAAA,CAAAC,EAAAC,IAAAA,EAAAtB,MAAAqB,EAAArB,SAMP,OAAAe,IAAAC,EAAeA,EAAyBI,MAAG,CAAAC,EAAIC,IAAAA,EAAApB,KAAAmB,EAAAnB,QAE5C,OAAAa,IAAAC,EAAAA,EAAAI,MAAA,CAAAC,EAAAC,IAAAD,EAAAnB,KAAAoB,EAAApB,QAGClB,EAAWiB,UAAA,GACbe,EAAAO,SAAA9B,IAEFF,EAAUE,MAIVN,EAAqCqC,iBAAW,UAAUC,IACtDd,OAGJvB,EAAYoC,iBAAG,UAAAC,kJAtGfC,iBACI,MAAMC,QAAyBC,EAAAC,YAAY/C,EAAAgD,IAC3C9C,EAAeiB,UAAY,GAC3B0B,EAAiBJ,SAAQ9B,IACrBF,EAAcE,MAGlBH,EAAWqC","sources":["src/scripts/shop.js","src/utils/index.js"],"sourcesContent":["import { db } from \"./apps\";\r\nimport { getProducts } from \"./functions/products\";\r\nimport { currencyFormat } from \"../utils\";\r\n\r\n\r\nconst productSection = document.getElementById(\"products\");\r\nconst categoryFilter = document.getElementById(\"material\");\r\nconst orderFilter = document.getElementById(\"order\");\r\nconst orderName = document.getElementById(\"orderbyName\");\r\n\r\nlet products = [];\r\n\r\nasync function loadProducts() {\r\n    const firebaseProducts = await getProducts(db);\r\n    productSection.innerHTML = \"\";\r\n    firebaseProducts.forEach(product => {\r\n        renderProduct(product);\r\n    });\r\n\r\n    products = firebaseProducts;\r\n\r\n\r\n}\r\n\r\nfunction renderProduct(item) {\r\n    const product = document.createElement(\"a\");\r\n    \r\n   \r\n\r\n\r\n\r\n    product.className = \"product\";\r\n\r\n    product.setAttribute(\"href\", './product.html?id=' + item.id)\r\n\r\n    const coverImage = item.images ? item.images[0] : \"./image/noimage\";\r\n\r\n    product.innerHTML = `\r\n    \r\n    <div class=\"product__info\"> \r\n    <img src=\"${coverImage}\" alt=\"\" class=\"product_image\">\r\n    \r\n        <h3 class=\"product__name\"> ${item.name} </h3>\r\n        <h3 class=\"material\"> ${item.material} </h3>\r\n        <h3 class=\"price\">  ${currencyFormat(item.price)} </h3>\r\n        </div>\r\n    </div>`;\r\n\r\n    productSection.appendChild(product);\r\n}\r\n\r\nfunction filterBy() {\r\n\r\n    const newCategory = categoryFilter.value;\r\n    const newOrder = orderFilter.value;\r\n    const newName = orderName.value;\r\n\r\n\r\n    let filteredProducts = [];\r\n    \r\n\r\n    if (newCategory !== \"\") {\r\n\r\n        filteredProducts = products.filter((product) => product.material === newCategory);\r\n        console.log(filteredProducts);\r\n\r\n\r\n    } else {\r\n        filteredProducts = products;\r\n        \r\n\r\n    }\r\n\r\n    if (newOrder === \"desc\") {\r\n        filteredProducts = filteredProducts.sort((a, b) => a.price - b.price);\r\n    }\r\n\r\n    if (newOrder === \"asc\") {\r\n        filteredProducts = filteredProducts.sort((a, b) => b.price - a.price);\r\n    }\r\n\r\n    if (newName === \"az\") {\r\n        filteredProducts = filteredProducts.sort((a, b) => b.name - a.name);\r\n    }\r\n    if (newName === \"za\") {\r\n        filteredProducts = filteredProducts.sort((a, b) => a.name - b.name);\r\n    }\r\n\r\n\r\n    productSection.innerHTML = \"\";\r\n    filteredProducts.forEach(product => {\r\n        renderProduct(product);\r\n    });\r\n\r\n\r\n\r\n}\r\n\r\ncategoryFilter.addEventListener(\"change\", e => {\r\n    filterBy();\r\n});\r\n\r\norderFilter.addEventListener(\"change\", e => {\r\n    filterBy();\r\n})\r\n\r\norderName.addEventListener(\"change\", e => {\r\n    filterBy();\r\n})\r\n\r\ndocument.getElementById('firtslogin').onclick = function(){\r\n    alert('¡Inicia sesión primero! :D ');\r\n}\r\n\r\nloadProducts();","async function addProductToCart(cart) {\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n};\r\n\r\nfunction getMyLocalCart() {\r\n    const myCart = localStorage.getItem(\"cart\");\r\n    return myCart ? JSON.parse(myCart) : [];\r\n}\r\n\r\nfunction currencyFormat(price) {\r\n    return new Intl.NumberFormat(\"es-CO\", {\r\n        style: 'currency',\r\n        currency: 'COP',\r\n        minimumFractionDigits: 0\r\n    }).format(price);\r\n}\r\n\r\nexport {\r\n    addProductToCart,\r\n    getMyLocalCart,\r\n    currencyFormat\r\n}"],"names":["$lrymF","parcelRequire","$a9cddcee321f50ec$var$productSection","document","getElementById","$a9cddcee321f50ec$var$categoryFilter","$a9cddcee321f50ec$var$orderFilter","$a9cddcee321f50ec$var$orderName","$a9cddcee321f50ec$var$products","$a9cddcee321f50ec$var$renderProduct","item","product","createElement","className","setAttribute","id","coverImage","images","price","innerHTML","name","material","Intl","NumberFormat","style","currency","minimumFractionDigits","format","appendChild","$a9cddcee321f50ec$var$filterBy","newCategory","value","newOrder","newName","filteredProducts","filter","console","log","sort","a","b","forEach","addEventListener","e","async","firebaseProducts","$5q2VS","getProducts","db"],"version":3,"file":"shop.637a702c.js.map"}