{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,+DAaA,MAAMC,EAAMF,EAAAG,cAAcC,EAAAC,SACpBC,EAAOC,EAAAC,UACPC,EAAKC,EAAAC,aAAaT,GAGlBU,EAAiBC,SAASC,eAAe,kBAC/CF,EAAeG,iBAAiB,UAAUC,MAAOC,IAC/CA,EAAEC,iBAEF,MAIMC,EAAU,MAJHP,EAAeQ,KAAKC,YACnBT,EAAeU,MAAMD,eAClBT,EAAeW,SAASF,MAMvCG,SAAS,GAILC,QAiBRT,eAA0BU,GAnD1BJ,MAmDkCA,EAnDlCC,SAmDyCA,IAEvC,IACE,MAtDJI,KAsDYA,SAAcpB,EAAAqB,+BAA+BF,EAAMJ,EAAOC,GAClE,OAAOI,EAGP,MAAOV,GAEQ,uBAAXA,EAAEY,MACJC,MAAM,kDAEO,8BAAXb,EAAEY,MACJC,MAAM,2CA9BgBC,CAAWzB,EAAMa,SAoC7CH,eAAiCgB,EAAIC,EAAQC,GAC3C,UAEQxB,EAAAyB,OAAOzB,EAAA0B,IAAIJ,EAAI,QAASC,GAASC,GAEvC,MAAOjB,GACPoB,QAAQC,IAAIrB,IAxCRsB,CAAkB9B,EAAIgB,EAAYe,IAAKrB,GAE7CW,MAAM,2BAGJW,SAASC,KADPjB,EACc,mBAGA","sources":["app.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport {  setDoc, doc } from \"firebase/firestore\"; \n\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nimport firebaseConfig from \"./src/utils/firebase\";\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth();\nconst db = getFirestore(app);\n\n\nconst createUserForm = document.getElementById(\"createUserForm\");\ncreateUserForm.addEventListener(\"submit\", async (e) => {\n  e.preventDefault();\n\n  const name = createUserForm.name.value;\n  const email = createUserForm.email.value;\n  const password = createUserForm.password.value;\n\n  const newUser = {\n    name,\n    email,\n    password,\n    isAdmin: false,\n  }\n\n \n  const userCreated = await createUser(auth, newUser);\n \n  await addUserToDatabase(db, userCreated.uid, newUser);\n\n  alert(`Econet de la bienvenida`)\n\n  if (userCreated) {\n    location.href = \"./shopLogin.html\";\n\n}else {\n    location.href = \"#\";\n}\n\n});\n\n\n\nasync function createUser(auth, { email, password }) {\n\n  try {\n    const  {user} = await createUserWithEmailAndPassword(auth, email, password);\n    return user;\n    \n\n  } catch (e) {\n\n    if (e.code === \"auth/weak-password\") {\n      alert(\"Tu contrase√±a debe tener al menos 6 caracteres\");\n    }\n    if (e.code === \"auth/email-already-in-use\") {\n      alert(\"Este correo ya se encuentra registrado\");\n    }\n\n  }\n}\n\nasync function addUserToDatabase(db, userId, userInfo) {\n  try {\n\n    await setDoc(doc(db, \"users\", userId), userInfo);\n\n  } catch (e) {\n    console.log(e);\n\n  }\n}"],"names":["$fXOuZ","parcelRequire","$6b17f08f738443dc$var$app","initializeApp","$fAZ67","default","$6b17f08f738443dc$var$auth","$1tHc5","getAuth","$6b17f08f738443dc$var$db","$etBjH","getFirestore","$6b17f08f738443dc$var$createUserForm","document","getElementById","addEventListener","async","e","preventDefault","newUser","name","value","email","password","isAdmin","userCreated","auth","user","createUserWithEmailAndPassword","code","alert","$6b17f08f738443dc$var$createUser","db","userId","userInfo","setDoc","doc","console","log","$6b17f08f738443dc$var$addUserToDatabase","uid","location","href"],"version":3,"file":"register.a81c4f98.js.map"}